summarise()|>
arrange(recipient)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
#trump_2020 <-
donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP VICTORY")) |>
group_by(recipient)|>
summarise()|>
arrange(recipient)
#group_by(owner) |>
# summarise (total = sum(amount))
s#um(trump_2020$total)
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP VICTORY")) |>
group_by(owner)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP VICTORY")) |>
group_by(owner)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP VICTORY")) |>
group_by(owner)
trump_2020
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
trump_2020
donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))
View(trump_2020)
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)|>
summarise(total = sum(amount)
trump_2020 <- donation_df |>
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
trump_2020
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
trump_2020
trump_2020|>
summarise(total = sum(amount))
View(trump_2020)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
summarise(total = sum(amount))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(scales)
library(janitor)
# Load the data from 538.
donation_df = read_csv("sports-political-donations.csv")
#clean column names to change case to lower and remove spaces
donation_df <- clean_names(donation_df)
# Use parse_number to convert the amount column to dbl
donation_df <- donation_df |>
mutate(amount = parse_number(amount))
donation_df
donations_by_party <- donation_df |>
group_by(party) |>
summarise(party_total = sum(amount)) |>
arrange(desc(party_total))
donations_by_party
wnba_donations <- donation_df |>
filter(str_detect(league, "WNBA")) |>
group_by(party) |>
summarise(party_total = sum(amount)) |>
mutate(pct_of_total = percent(party_total / sum(party_total)))|>
arrange(desc(pct_of_total))
wnba_donations
loeffler_r_wnba_donations <- donation_df |>
filter(str_detect(league, "WNBA")) |>
filter(owner == "Kelly Loeffler") |>
filter (party == "Republican") |>
summarise (loeffler_r_total = sum(amount)) |>
mutate(percent_of_total = (loeffler_r_total / wnba_donations$party_total[2])*100)
loeffler_r_wnba_donations
wnba_no_loeffler <- donation_df |>
filter(str_detect(league, "WNBA")) |>
filter(owner != "Kelly Loeffler") |>
group_by(party) |>
summarise (party_total = sum(amount)) |>
mutate(pct_of_total = percent(party_total / sum(party_total)))|>
arrange(desc(party_total))
wnba_no_loeffler
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
summarise(total = sum(amount))
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
summarise(total = sum(amount)
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
donation_df |>
setwd("~/Data Journalism/Data_Jour_Reverse_Engineering")
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
summarise(total = sum(amount)
trump_2020 <- donation_df |>
summarise(total = sum(trump_2020$amount))
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount, na.rm = TRUE))
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount, na.rm = TRUE))
total_amount
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(scales)
library(janitor)
# Load the data from 538.
donation_df = read_csv("sports-political-donations.csv")
#clean column names to change case to lower and remove spaces
donation_df <- clean_names(donation_df)
# Use parse_number to convert the amount column to dbl
donation_df <- donation_df |>
mutate(amount = parse_number(amount))
donation_df
donations_by_party <- donation_df |>
group_by(party) |>
summarise(party_total = sum(amount)) |>
arrange(desc(party_total))
donations_by_party
wnba_donations <- donation_df |>
filter(str_detect(league, "WNBA")) |>
group_by(party) |>
summarise(party_total = sum(amount)) |>
mutate(pct_of_total = percent(party_total / sum(party_total)))|>
arrange(desc(pct_of_total))
wnba_donations
loeffler_r_wnba_donations <- donation_df |>
filter(str_detect(league, "WNBA")) |>
filter(owner == "Kelly Loeffler") |>
filter (party == "Republican") |>
summarise (loeffler_r_total = sum(amount)) |>
mutate(percent_of_total = (loeffler_r_total / wnba_donations$party_total[2])*100)
loeffler_r_wnba_donations
wnba_no_loeffler <- donation_df |>
filter(str_detect(league, "WNBA")) |>
filter(owner != "Kelly Loeffler") |>
group_by(party) |>
summarise (party_total = sum(amount)) |>
mutate(pct_of_total = percent(party_total / sum(party_total)))|>
arrange(desc(party_total))
wnba_no_loeffler
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount, na.rm = TRUE))
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount))
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount))
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount))
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount, na.rm = TRUE))
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_amount <- trump_2020 |>
summarize(total_amount = sum(amount, na.rm = TRUE))
# Print the total amount
print(total_amount$total_amount)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
sum(trump_2020$amount)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_12 <- sum(trump_2020$amount)
1746423 - total_12
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
total_12 <- sum(trump_2020$amount)
1746423 - total_12
total_12 <- sum(trump_2020$amount)
total_12
1746423 - total_12
# Update recipient values to all upper case
donation_df <- donation_df |>
mutate(recipient = str_to_upper(recipient))
# Find the 13 owners who contributed to Trump's campaign or Trump super PACs.
trump_2020 <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(recipient,"TRUMP")) |>
group_by(owner)
#Huh. We only found 12 owners this way. How much did they contribute together?
total_12 <- sum(trump_2020$amount)
total_12
#They contributed 1544421. How much money are we still looking for?
1746423 - total_12
#We need to find 202002 in contributions for Trump still.
1746423 <- grand_total
grand_total <- 1746423
write_cvs(trump_2020,"data/trump_2020.csv")
write_csv(trump_2020,"data/trump_2020.csv")
write_csv(trump_2020,"trump_2020.csv")
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donation <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
# It looks like a lot of these contributions are for state-wide races, not the presidency. But what are his total contributions
total_karmanos <- sum(karmanos_donation$amount)
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donation <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
# It looks like a lot of these contributions are for state-wide races, not the presidency. But what are his total contributions
total_karmanos <- sum(karmanos_donation$amount)
total_karmanos
View(karmanos_donation)
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donation <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
# It looks like a lot of these contributions are for state-wide races, not the presidency. But what are his total contributions
total_karmanos <- sum(karmanos_donation$amount)
total_karmanos - total_12
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
# It looks like a lot of these contributions are for state-wide races, not the presidency. But what are his total contributions
total_karmanos <- sum(karmanos_donation$amount)
total_karmanos - total_12
karmanos_
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
# It looks like a lot of these contributions are for state-wide races, not the presidency. But what are his total contributions
total_karmanos <- sum(karmanos_donation$amount)
total_karmanos - total_12
karmanos_donations
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations |>
filter(
str_detect(recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT") |
str_detect(recipient == "REPUBLICAN NATIONAL COMMITTEE") |
str_detect(recipient == "HUCK PAC") |
str_detect(recipient == "STARS AND STRIPES FOREVER PAC"))
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations |>
filter(
str_detect(recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT") |
str_detect(recipient == "REPUBLICAN NATIONAL COMMITTEE") |
str_detect(recipient == "HUCK PAC") |
str_detect(recipient == "STARS AND STRIPES FOREVER PAC")
)
total_karmanos
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
# Karmanos donated a total of $203702.
total_karmanos
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations |>
filter(
str_detect(recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT") |
str_detect(recipient == "REPUBLICAN NATIONAL COMMITTEE") |
str_detect(recipient == "HUCK PAC") |
str_detect(recipient == "STARS AND STRIPES FOREVER PAC")
) |>
sum(total = sum(amount)
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
# Karmanos donated a total of $203702.
total_karmanos
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations |>
filter(
recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT" |
recipient == "REPUBLICAN NATIONAL COMMITTEE" |
recipient == "HUCK PAC" |
recipient == "STARS AND STRIPES FOREVER PAC")
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
# Karmanos donated a total of $203702.
total_karmanos
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations |>
filter(
recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT" |
recipient == "REPUBLICAN NATIONAL COMMITTEE" |
recipient == "HUCK PAC" |
recipient == "STARS AND STRIPES FOREVER PAC")
karmanos_presidential <- sum(karmanos_donations$amount)
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
# Karmanos donated a total of $203702.
total_karmanos
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations |>
filter(
recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT" |
recipient == "REPUBLICAN NATIONAL COMMITTEE" |
recipient == "HUCK PAC" |
recipient == "STARS AND STRIPES FOREVER PAC")
karmanos_presidential <- sum(karmanos_donations$amount)
karmanos_presidential
karmanos_donations_president <- karmanos_donations |>
filter(
recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT" |
recipient == "REPUBLICAN NATIONAL COMMITTEE" |
recipient == "HUCK PAC" |
recipient == "STARS AND STRIPES FOREVER PAC")
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
# Karmanos donated a total of $203702.
total_karmanos
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations_president <- karmanos_donations |>
filter(
recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT" |
recipient == "REPUBLICAN NATIONAL COMMITTEE" |
recipient == "HUCK PAC" |
recipient == "STARS AND STRIPES FOREVER PAC")
karmanos_president_total <- sum(karmanos_donations_president$amount)
karmanos_president_total
karmanos_president_total
# Find Peter Karmanos, who according to 538 is our missing 13th owner.
karmanos_donations <- donation_df |>
filter(election_year == 2020) |>
filter(str_detect(owner,"Peter Karmanos"))|>
group_by(recipient)
total_karmanos <- sum(karmanos_donation$amount)
# Karmanos donated a total of $203702.
total_karmanos
total_karmanos - total_12
# It looks like a lot of these contributions are for state-wide races, not the presidency.
karmanos_donations_president <- karmanos_donations |>
filter(
recipient == "BLACK AMERICANS TO RE-ELECT THE PRESIDENT" |
recipient == "REPUBLICAN NATIONAL COMMITTEE" |
recipient == "HUCK PAC" |
recipient == "STARS AND STRIPES FOREVER PAC")
karmanos_president_total <- sum(karmanos_donations_president$amount)
karmanos_president_total
#Okay, it looks like Karmanos donated $134,602 to presidential campaigns.
grand_total - karmanos_president_total
grand_total - karmanos_president_total
grand_total - karmanos_president_total
total_13 <- 1746423
total_13 - karmanos_president_total
1746423 - total_12
karmanos_president_total
total_13 - total_12 - karmanos_president_total
